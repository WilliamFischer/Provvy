{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ref, deleteObject, uploadBytesResumable, percentage, getDownloadURL } from '@angular/fire/storage';\nlet ArtistCreationCenterComponent = class ArtistCreationCenterComponent {\n  constructor(router, storage, route) {\n    this.router = router;\n    this.storage = storage;\n    this.route = route;\n    this.user = [];\n  }\n\n  ngOnInit() {}\n\n  submitPhoto(event) {\n    return __awaiter(this, void 0, void 0, function* () {\n      console.log('UPLOADING IMAGE....');\n      this.filePath = '';\n      const file = event.target.files[0];\n      this.path = (Math.random() + 1).toString(36).substring(7);\n\n      if (file) {\n        try {\n          const storageRef = ref(this.storage, this.path);\n          const task = uploadBytesResumable(storageRef, file);\n          this.uploadPercent = percentage(task);\n          console.log(this.uploadPercent);\n          yield task;\n          const url = yield getDownloadURL(storageRef);\n          this.user.image = url;\n          console.log('DONE!', this.user);\n        } catch (e) {\n          console.error(e);\n        }\n      } else {\n        alert('Invalid file.');\n      }\n    });\n  }\n\n  deleteImage() {\n    const desertRef = ref(this.storage, this.path);\n    deleteObject(desertRef).then(() => {\n      this.user.image = '';\n    }).catch(error => {\n      alert(error);\n    });\n  }\n\n};\nArtistCreationCenterComponent = __decorate([Component({\n  selector: 'app-artist-creation-center',\n  templateUrl: './artist-creation-center.component.html',\n  styleUrls: ['./artist-creation-center.component.scss']\n})], ArtistCreationCenterComponent);\nexport { ArtistCreationCenterComponent };","map":null,"metadata":{},"sourceType":"module"}